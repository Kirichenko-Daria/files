(window.webpackJsonp=window.webpackJsonp||[]).push([["b-7838b057c2226da38efb8152f7a6b628"],{"+cqQ":function(e,t,n){"use strict";function u(){var e=[],t=function(){var e=this,t=arguments;if("function"!=typeof t[0]){for(var n=e.length,u=!1,r=0;r<n;r++)!0===e[r].apply(null,t)&&(u=!0);return u}Array.prototype.slice.call(t).forEach(function(t){return e.push(t)})}.bind(e);return t.off=function(e){e?function(e,t){for(;;){var n=e.indexOf(t);if(!(n>=0))break;e.splice(n,1)}}(this,e):this.length=0}.bind(e),t._fns=e,t}n.r(t),t.default=Object.assign(u,{kind:function(){var e={};return function(t){return e[t]||(e[t]=u())}}}),window.befall=u},"1By4":function(e,t,n){"use strict";n.r(t);var u,r=n("wx14"),i=n("2mXy");t.default=((u={html:D,render:function(e){if(v(e))return e;return D(e)},wrap:function(e){return e?{__raw__:e}:null},handle:function(){var e=F(arguments[0]),t=Array.prototype.slice.call(arguments,1),n=e[0];if(!n)return;v(n)||console.warn('Invalid handler "'+n+'"');var u=w(window,n);if(!E(u))return void console.warn("`"+n+"` is not a function");u.apply(null,e.slice(1).concat(t))},handle2:function(e,t){var n=Array.prototype.slice.call(arguments,2),u=e[0];if(!u)return;v(u)||console.warn('Invalid handler "'+u+'"');var r=w(window,u);if(!E(r))return void console.warn("`"+u+"` is not a function");for(var i=e.slice(1),a=0,o=i.length;a<o;a++)if("event"===i[a]){i[a]=t;break}r.apply(null,i.concat(n))},elem:function(e){return e?ceFromString(D(e)):""},preact:function(e,t){return function e(t,n){return function(n){var u=E(t)?t(n):t;if(u){if("string"==typeof u||"number"==typeof u)return u;u.children=u.inner,delete u.inner,g(u.children)?(u.children=flatArray(u.children),u.children=u.children.map(function(t){return e(t)()})):u.children&&u.children.inner&&(u.children.children=u.children.inner,delete u.children.inner),u&&u.children&&"string"==typeof u.children.children&&(u.children=Object(i.createElement)(u.children.tag||"div",u.children.props,u.children.children));var a=Object(r.default)({},n,u,{className:u.class||u.className});return delete a.class,g(a.className)&&(a.className=flatArray(a.className).filter(function(e){return!!e}),a.className=a.className.join(",")),Object(i.createElement)(u.tag||"div",a,u.children)}}}(function(t){return e(t)})(t)},hydrate:function(e,t,n){return Object(i.hydrate)(Object(i.createElement)(e,t),n)},class:A,getInternalData:function(){return{__is_wd_internal_data:!0}},innerItemToString:c,toFlatArray:b}).innerItemToString=c,u.toFlatArray=b,u);var a=["tag","inner","attrs","innerHTML","outerHTML","_"],o=["area","base","br","col","command","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],s=["abort","auxclick","beforecopy","beforecut","beforepaste","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","copy","cuechange","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","selectstart","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","volumechange","waiting","wheel"].map(function(e){return"on"+e});function D(e){if(v(e))return e?{__raw__:e}:null;if(g(e))return e.map(D).join("");if(!_(e))throw"Invalid input, object is expected";if("outerHTML"in e){var t=e.outerHTML;if(v(t))return t;if(h(t))return t.toString();if(t)throw"Invalid outerHTML";return""}var n=function(e){if("tag"in e){var t=e.tag;if(v(t)&&/^[\w-]+$/.test(t))return t;throw"Invalid tag name"}if(m(e.href))return"a";return"div"}(e),u=function(e){if("innerHTML"in e){var t=e.innerHTML;if(v(t))return t;if(h(t))return t.toString();if(t)throw"Invalid innerHTML";return""}if("inner"in e)return b(e.inner).map(c).join("");return""}(e),r=function(e){var t="";_(e.attrs)&&Object.assign(e,e.attrs);for(var n in e)if(!p(n)){var u=e[n];"class"===n?u=A(u):(a=n,s.includes(a.toLowerCase())&&(g(u)||v(i=u)&&/^[\w.]+$/.test(i))?u=d(u):u&&(u=l(u)));var r=C(n);!0===u?t+=" "+r:h(u)?t+=" "+r+'="'+u+'"':v(u)?t+=" "+r+'="'+C(u)+'"':u&&(u=u.__raw__?u.__raw__:l(u))&&(t+=" "+r+'="'+u+'"')}var i;var a;v(e.attrs)&&(t+=" "+e.attrs.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return t}(e);return function(e){return o.includes(e.toLowerCase())}(n)?"<"+n+r+" />":"<"+n+r+">"+u+"</"+n+">"}function c(e){return h(e)?e.toString():v(e)?C(e):_(e)?e.__raw__?e.__raw__:D(e):""}function A(e){return b(e).filter(m).join(" ").trim().replace(/\s+/g," ")}function d(e){if(!(e=F(e)).length)return null;var t=e[0];if(!v(t))throw"Invalid handler";return t+"("+e.slice(1).map(f).join(", ")+")"}function f(e){return h(e)||"this"===e||"event"===e||void 0===e?e:C(JSON.stringify(e),!0)}function l(e){return void 0===e&&(e=""),e="boolean"==typeof e?e:h(e)?e:v(e)?C(e,!0):g(e)?e.__raw__:C(JSON.stringify(e),!0)}function p(e){return a.includes(e)}function h(e){return"number"==typeof e&&!isNaN(e)}function v(e){return"string"==typeof e}function g(e){return Array.isArray(e)}function _(e){return"[object Object]"===Object.prototype.toString.call(e)}function E(e){return"[object Function]"===Object.prototype.toString.call(e)}function m(e){return v(e)&&e}function F(e){return g(e)?e:[e]}function C(e,t){return t?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):(e=e.replace(/&(?!(#\d{0,4};|quot;|lt;|gt;|amp;))/g,"&amp;",e)).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e){return g(e)?function e(t){var n=[];t.forEach(function(t){g(t)?n=n.concat(e(t)):n.push(t)});return n}(e):[e]}function w(e,t){for(var n=t.split("."),u=n.length,r=e,i=0;i<u;i++)try{r=r[n[i]]}catch(e){return}return r}},"9M99":function(e,t,n){"use strict";n.r(t);var u=n("S6+Z"),r=n("TxR4"),i=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function a(e){return function(e){return i.reduce(function(e,t){var n=t[0],u=t[1];return e.replace(new RegExp(u,"ig"),n)},e)}(e).replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"})}function o(e,t,n,u){return!n&&t?t:u?'<i class="emoji @'+e+'" emoji="'+e+'"'+(t?' title="'+t+'"':"")+"></i>":'<img class="emoji" src="/emoji/e/'+e+(window.devicePixelRatio>=2?"_2x":"")+'.png"'+(t?' alt="'+t+'"':"")+(browser.msie&&Number(browser.version)>8?' contenteditable="false"':"")+">"}function s(e){return o(Object(r.emojiSymbolToByteHex)(e),a(e),!0)}n.d(t,"emojiToHTML",function(){return D});var D=function(e){return function(e,t){if(browser.ipad||browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(u.EMOJI_PREFIXED_REPLACES).forEach(function(t){e.replace(u.EMOJI_PREFIXED_REPLACES[t],function(e,n,u,r){return(n||"")+o(t)+(r||"")})});return Object.keys(u.EMOJI_REPLACES).forEach(function(t){e=e.replace(u.EMOJI_REPLACES[t],function(e,n,u){return o(t)+(u||"")})}),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace(Object(u.emojiRegex)(),s)),e}(e,!0)}},H5mD:function(e,t,n){"use strict";n.r(t),n.d(t,"IPHONE_SAFARI_BOTTOM_BAR",function(){return i}),n.d(t,"IPHONE_X_SAFARI_BOTTOM_BAR",function(){return a}),n.d(t,"IPHONE_KEYBOARD_REJECT_OFFSET",function(){return o}),n.d(t,"IOS_NO_KEYBOARD_ALLOWED_OFFSET",function(){return s}),n.d(t,"isIPad",function(){return A}),n.d(t,"isIPhone",function(){return d}),n.d(t,"isIOS",function(){return f}),n.d(t,"isIPadOS",function(){return c}),n.d(t,"iosMajor",function(){return u}),n.d(t,"iosMinor",function(){return r}),n.d(t,"isWKWebView",function(){return h}),n.d(t,"isScrollBasedViewport",function(){return p}),n.d(t,"isIPhoneX",function(){return v}),n.d(t,"isIOSChrome",function(){return g}),n.d(t,"isLandscapePhone",function(){return _}),n.d(t,"checkIPadOS",function(){return E});var u,r,i=45,a=85,o=180,s=70,D=navigator.userAgent.toLowerCase(),c=E(D),A=c||-1!==D.indexOf("ipad"),d=!A&&-1!==D.search(/iphone|ipod/),f=d||A,l=f&&navigator.userAgent.match(/OS ([\d_]+) like Mac OS X/i);c&&(u=13,r=0),l&&(l=l[1].split("_"),u=+l[0],r=+l[1]),l=null;var p=u<13&&!(11===u&&r<3),h=f&&function(e){if(window.webkit&&window.webkit.messageHandlers)return!0;var t=/constructor/i.test(window.HTMLElement),n=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone){if(!n&&t||!window.statusbar||!window.statusbar.visible);else if(!t||n)return!0}else;return!1}(D),v=f&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio,g=-1!==D.search(/crios/i);function _(){return 90===Math.abs(window.orientation)&&!A}function E(e){var t=!/ipad|iphone|ipod/.test(e);return!(!/mac os/.test(e)||!t||"boolean"!=typeof navigator.standalone)}},PovR:function(e,t,n){"use strict";n.r(t),n.d(t,"SECOND",function(){return u}),n.d(t,"MINUTE",function(){return r}),n.d(t,"HOUR",function(){return i}),n.d(t,"DAY",function(){return a}),n.d(t,"PUSH_NOTIFIER_PERMISSION_GRANTED",function(){return o}),n.d(t,"PUSH_NOTIFIER_PERMISSION_DEFAULT",function(){return s}),n.d(t,"PUSH_NOTIFIER_PERMISSION_DENIED",function(){return D});var u=1e3,r=60*u,i=60*r,a=24*i,o="granted",s="default",D="denied"},"S6+Z":function(e,t,n){"use strict";n.r(t),n.d(t,"emojiRegex",function(){return u}),n.d(t,"skinToneModifierRegex",function(){return r}),n.d(t,"EMOJI_PREFIXED_REPLACES",function(){return i}),n.d(t,"EMOJI_REPLACES",function(){return a}),n.d(t,"EMOJI_HINTS",function(){return o});var u=function(){return/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g},r=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,i={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},a={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},o={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},TYsd:function(e,t,n){"use strict";n.r(t),n.d(t,"_Wd_toFlatArray",function(){return r}),n.d(t,"_Wd_innerItemToString",function(){return i});var u=n("1By4");t.default=u.default;var r=u.default._Wd_toFlatArray,i=u.default._Wd_innerItemToString;window.Wd=u.default},TxR4:function(e,t,n){"use strict";n.r(t),n.d(t,"emojiSymbolToByteHex",function(){return r}),n.d(t,"emojiByteHexToSymbol",function(){return i}),n.d(t,"emojiRemoveSkinToneModifiers",function(){return a});var u=n("S6+Z");function r(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}function i(e){var t,n=e.length%2==1,u=n?e.slice(0,1):"",r=n?e.slice(1):e,i="";try{i=decodeURIComponent("%"+(t=r,t.split("").reduce(function(e,t,n){return e+t+((n+1)%2==0?" ":"")},"").trim().split(/\s+/)).join("%"))}catch(e){}return u+i}function a(e){return e.replace(Object(u.emojiRegex)(),o)}function o(e){return e.replace(u.skinToneModifierRegex,"")}},W0P9:function(e,t,n){"use strict";n.r(t),n.d(t,"log",function(){return a}),n.d(t,"warn",function(){return o}),n.d(t,"error",function(){return s}),n.d(t,"debug",function(){return D});var u=n("W9Tc"),r="js_console_logs";function i(){return window.console&&Object(u.partConfigEnabled)(r)}function a(){var e;i()&&(window.console.log&&(e=window.console).log.apply(e,arguments))}function o(){var e;i()&&(window.console.warn?(e=window.console).warn.apply(e,arguments):a.apply(void 0,arguments))}function s(){var e;i()&&(window.console.error?(e=window.console).error.apply(e,arguments):a.apply(void 0,arguments))}function D(){var e;i()&&(window.console.debug?(e=window.console).debug.apply(e,arguments):a.apply(void 0,arguments))}},a0wW:function(e,t,n){"use strict";n.r(t),n.d(t,"FLAG_MP4",function(){return a}),n.d(t,"FLAG_GIF_AUTOPLAY",function(){return o}),n.d(t,"FLAG_SUPPORTS_HISTORY_API",function(){return s});var u=n("jk6M"),r=n("J8bf"),i={},a=0,o=1,s=2,D=function(){function e(){}return e.getFeatures=function(){return i},e.detectMp4Support=function(){var e=u.default.meizu||u.default.mi||u.default.uc_mini||0!==u.default.ios&&u.default.ios<10||u.default.chrome&&u.default.version.split(".")[0]<53,t=!1,n=document.createElement("video");return n.canPlayType&&""!==n.canPlayType("video/mp4")&&(t=!0),i.mp4=t,this.setFlag(a,t&&!e),t},e.detectAutoplay=function(){var e=this;return new Promise(function(t){if(i.autoplay)t(!0);else{if(u.default.ios&&u.default.safari_mobile&&parseInt(u.default.version,10)>=10)return i.autoplay=!0,void t(!0);i.autoplay=!1;var n=ce("video"),r=ce("source");r.src="data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==";var a=ce("source");a.src="data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",append(a,n),append(r,n),n.style.position="fixed",n.style.left="5000px",attr(n,"id","base64testvideo"),attr(n,"playsinline","playsinline"),attr(n,"webkit-playsinline","webkit-playsinline"),attr(n,"muted","muted"),attr(n,"autoplay","autoplay"),attr(n,"loop","loop"),append(n,document.body);var o=ge("base64testvideo");if(u.default.mobile&&u.default.ios&&u.default.ios<10)return i.autoplay=!1,remove(n),t(!1),void clearTimeout(e.autoDetectTimeout);if(!u.default.safari_mobile||u.default.safari_mobile&&parseInt(u.default.version,10)>=10){var s=n.play();void 0!==s&&s.then(function(){i.autoplay=!0,remove(n),t(!0),clearTimeout(e.autoDetectTimeout)}).catch(function(u){i.autoplay=!1,remove(n),t(!1),clearTimeout(e.autoDetectTimeout)})}o.onplay=function(){i.autoplay=!0,remove(n),t(!0),clearTimeout(e.autoDetectTimeout)},e.autoDetectTimeout=setTimeout(function(){o.paused||(i.autoplay=!0),remove(n),t(i.autoplay)},250)}})},e.getFlags=function(){return(Object(r.getCookie)("remixff")||"").split("").map(function(e){return+e?"1":"0"}).join("")},e.getFlag=function(e){var t=this.getFlags();return!!toInt(t[e])},e.setFlag=function(e,t){void 0===t&&(t=!1);var n=(Object(r.getCookie)("remixff")||"").split("");e>=n.length&&(n=Array.from(Array(e),function(e,t){return n[t]||"0"})),n[e]=t?"1":"0";var u=n.join("");Object(r.setCookie)("remixff",u,10)},e}();onDOMReady(function(){D.detectMp4Support()}),t.default=D},eGQV:function(e,t,n){"use strict";n.r(t);var u=function(){function e(){this.registration=null,this._handlers=[],this.params=null}e.isSupported=function(){try{return!(!window.fetch||!navigator.serviceWorker)}catch(e){return!1}};var t=e.prototype;return t.listenMessages=function(){navigator.serviceWorker.addEventListener("message",this._onmessage.bind(this))},t.register=function(t){if(!e.isSupported())return Promise.reject("SW: serviceWorker is unavailable");var n=t&&t.url;return n?(this.params=t,navigator.serviceWorker.register(n,{scope:"/",updateViaCache:"none"}).then(function(e){return this.registration||(this.registration=e),e}.bind(this))):Promise.reject("SW: incorrect url")},t.getRegistration=function(){return e.isSupported()?navigator.serviceWorker.ready.then(function(e){return this.registration||(this.registration=e),e}.bind(this)):Promise.reject("SW: serviceWorker is unavailable")},t.unregister=function(){this.registration&&this.registration.unregister(),this._handlers.forEach(function(e){return e[0].removeEventListener(e[1],e[2])}),this._handlers=[]},t.update=function(){this.registration&&this.registration.update()},t.getParams=function(){return this.params||{}},t._addEventListener=function(e,t,n,u){void 0===u&&(u=!0);var r=!1;this._handlers.forEach(function(u){u[0]===e&&u[1]===t&&u[2]===n&&(r=!0)}),r&&!u||(this._handlers.push([e,t,n]),e.addEventListener(t,n))},t.action_devicePixelRatio=function(){return window.devicePixelRatio},t.action_pushHash=function(){return this.getParams().push_hash},t.storePushHash=function(){var e=this.getParams().push_hash;this.action("storePushHash",{hash:e})},t.action=function(e,t){var n=null;return n=Array.isArray(e)?e:[[e,t]],this._message({actions:n}).then(function(e){return e.answers?Promise.resolve(1===n.length?e.answers[0]:e.answers):Promise.reject(new Error("ServiceWorker answer is incorrect"))})},t._message=function(e){var t=this;return this.getRegistration().then(function(){return new Promise(function(t,n){var u=new MessageChannel;u.port1.onmessage=function(e){this._messageCheck(e)?t(e.data.data):n(new Error("ServiceWorker message is incorrect"))}.bind(this),this.registration.active.postMessage(this._messageWrap(e),[u.port2])}.bind(t))})},t._onmessage=function(e){if(this._messageCheck(e)){var t=e.data.data;if(t.actions&&Array.isArray(t.actions)){var n=[];t.actions.forEach(function(t){var u="action_"+t[0],r=t[1],i=this[u]?this[u](r,e):void 0;i instanceof Promise||(i=Promise.resolve(i)),n.push(i)}.bind(this)),Promise.all(n).then(function(t){var n={};t.forEach(function(e,t){void 0!==e&&(n[t]=e)}),Object.keys(n).length&&e.ports[0].postMessage(this._messageWrap({answers:n}))}.bind(this))}}},t._messageCheck=function(e){return(""===e.origin||e.origin.match(/^https:\/\/([a-zA-Z0-9\-\.]+\.)?vk\.com$/))&&e.data&&e.data.data&&"sw"===e.data.type},t._messageWrap=function(e){return{type:"sw",data:e}},e}();u.SW_NOT_AVAILABLE_ERROR="SW: serviceWorker is unavailable";var r=n("H5mD"),i=function(){if(!("fetch"in window))return function(){};var e=["standalone","fullscreen","minimal-ui"],t="#ffffff",n=128,u=48,i=32,a=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple");function o(e,t,n){void 0===n&&(n=!1);var u=s(e);if((u.drawImage(e,0,0),!n)&&255==u.getImageData(0,0,1,1).data[3])return null;return u.globalCompositeOperation="destination-over",u.fillStyle=t,u.fillRect(0,0,e.width,e.height),u.canvas.toDataURL()}function s(e){var t=void 0===e?{width:1,height:1}:e,n=t.width,u=t.height,r=document.createElement("canvas");return r.width=n,r.height=u,r.getContext("2d")}return function(){if(a){var D=document.head.querySelector('link[rel="manifest"]'),c=D?D.href:"",A=function(e){for(var t=function(t){var n=e[t];try{return new URL("",n),{v:function(e){return new URL(e,n).toString()}}}catch(e){}},n=0;n<e.length;++n){var u=t(n);if("object"==typeof u)return u.v}return function(e){return e}}([c,window.location]);Promise.resolve().then(function(){if(!c)throw'can\'t find <link rel="manifest" href=".." />\'';var e={};return"use-credentials"===c.crossOrigin&&(e.credentials="include"),window.fetch(c,e)}).then(function(e){return e.json()}).then(function(a){return function(a,D){var c=(a.icons||[]).filter(function(e){return"apple-splashscreen"===e.purpose});c.sort(function(e,t){return parseInt(t.sizes,10)-parseInt(e.sizes,10)});var A=c.map(function(e){return{href:D(e.src),sizes:e.sizes}}),d=a.display,f=-1!==e.indexOf(d);l=a.background_color||t,p=function(e){var t=s();return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data}(l).map(function(e){var t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),h=.2126*p[0]+.7152*p[1]+.0722*p[2],Math.abs(1.05/(h+.05)),a.name||a.short_name||document.title;var l,p,h;navigator.standalone||(v="apple-mobile-web-app-capable",(g=f)&&(!0===g&&(g="yes"),function(e,t){var n=document.createElement(e);for(var u in t)n.setAttribute(u,t[u]);document.head.appendChild(n)}("meta",{name:v,content:g})));var v,g;function _(e,r,o){var D=e.width,c=e.height,A=window.devicePixelRatio,d=s({width:D*A,height:c*A});if(d.scale(A,A),d.fillStyle=a.background_color||t,d.fillRect(0,0,D,c),d.translate(D/2,(c-i)/2),o){var f=o.width/A,l=o.height/A;l>n&&(f/=l/n,l=n),f>=u&&l>=u&&(d.drawImage(o,f/-2,l/-2,f,l),d.translate(0,l/2+i))}var p=document.createElement("link");return p.setAttribute("rel","apple-touch-startup-image"),p.setAttribute("media","screen and (orientation: "+r+")"),p.setAttribute("href",d.canvas.toDataURL()),p}var E=new Set;function m(e){var t=_(window.screen,"portrait",e),n=_({width:window.screen.height,height:r.isIPad?window.screen.height:window.screen.width},"landscape",e);E.forEach(function(e){return e.remove()}),document.head.appendChild(t),document.head.appendChild(n),E.add(t),E.add(n)}if(m(null),!A.length)return;var F=A[0],C=new Image;C.crossOrigin="anonymous",C.onload=function(){if(m(C),a.background_color){var e=o(C,a.background_color);null!==e&&(F.href=e,A.slice(1).forEach(function(e){var t=new Image;t.crossOrigin="anonymous",t.onload=function(){var n=o(t,a.background_color,!0);e.href=n},t.src=e.href}))}},C.src=F.href}(a,A)}).catch(function(e){return console.warn("pwacompat.js error",e)})}}}(),a=n("JX7q"),o=n("dI71"),s=n("W9Tc");function D(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),u=new Uint8Array(n.length),r=0;r<n.length;++r)u[r]=n.charCodeAt(r);return u}var c=n("W0P9"),A=n("Xrg9"),d=function(){function e(e,t){var n=this;this.sw=e,this.SWClient=t,vk.id&&this.canBeEnabled().then(function(e){e&&(n.listenPermission(),n.loadEndpoint()&&n.update().then(n.checkMessageState.bind(n)))})}e.getPermission=function(){return Notification.permission};var t=e.prototype;return t.cleanNotification=function(){this.sw.action("cleanNotification")},t.canBeEnabled=function(){return Promise.resolve(this.isSupported())},t.isSupported=function(){return"PushManager"in window&&"Notification"in window&&this.SWClient.isSupported()},t.loadEndpoint=function(){return A.default.get("push_notifier_endpoint"+vk.id)||!1},t.saveEndpoint=function(e){A.default.set("push_notifier_endpoint"+vk.id,e||!1)},t.action=function(e,t){return this.sw.action(e,t)},t._needupdate=function(e){var t=Date.now(),n=this.loadEndpoint(),u=A.default.get("push_notifier_subscribed_ts"+vk.id),r=!1;return(n!==e.endpoint||!u||t-u>6e4)&&(A.default.set("push_notifier_subscribed_ts"+vk.id,t),r=!0),r},t.listenPermission=function(){var e=this;Object(s.partConfigEnabled)("push_notifier")&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"notifications"}).then(function(t){t.onchange=function(){return e.update()}})},t.update=function(){var t=this;return this.updatePermission().then(function(n){return n===e.PUSH_NOTIFIER_PERMISSION_GRANTED?t.subscribe().catch(function(t){t!==e.SUBSCRIBE_ERROR_NETWORK&&Object(c.error)("can not update subscribe")}):Promise.reject("premession_not_granted")}).catch(c.error)},t.updatePermission=function(){var t=e.getPermission();if(t!==e.PUSH_NOTIFIER_PERMISSION_GRANTED){var n=this.loadEndpoint();if(n)return this.unsubscribe(n).then(function(){return t})}return Promise.resolve(t)},t.processSubscribe=function(t){return t.subscribe({userVisibleOnly:!0,applicationServerKey:D(e.SERVER_KEY)})},t.setupSubscription=function(){var t=this;return new Promise(function(n,u){var r=e.getPermission(),i=function(){t.subscribe(!0).then(function(){n()}).catch(function(){u()})};r!==e.PUSH_NOTIFIER_PERMISSION_DENIED?r!==e.PUSH_NOTIFIER_PERMISSION_GRANTED?r===e.PUSH_NOTIFIER_PERMISSION_DEFAULT&&t.requestPermission().then(function(t){t===e.PUSH_NOTIFIER_PERMISSION_GRANTED?i():u()}):i():u(e.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS)})},t.subscribe=function(t){var n=this;return this.sw.getRegistration().then(function(e){var t=e.pushManager;return t.getSubscription().then(function(e){if(e){var u=e.expirationTime;return u&&Date.now()>u-432e6?n.unsubscribe(n.loadEndpoint()).then(function(){return n.processSubscribe(t)}):e}return n.processSubscribe(t)})}).then(function(u){return new Promise(function(r,i){if(t||n._needupdate(u)){var a=u.getKey("p256dh"),o=u.getKey("auth");window.ajax.post(e.SERVER_URL,{act:"a_subscribe",hash:n.sw.getParams().push_hash,endpoint:u.endpoint,key:a?btoa(String.fromCharCode.apply(null,new Uint8Array(u.getKey("p256dh")))):null,token:o?btoa(String.fromCharCode.apply(null,new Uint8Array(u.getKey("auth")))):null},{onDone:function(e){e?(n.saveEndpoint(u.endpoint),r()):i()},onFail:function(){return i(e.SUBSCRIBE_ERROR_NETWORK),!0}})}else r()})})},t.unsubscribe=function(t){var n=this;return this.sw.register().then(function(u){return u.pushManager.getSubscription().then(function(u){return u?u.unsubscribe().then(function(u){return u?new Promise(function(u,r){ajax.post(e.SERVER_URL,{act:"a_unsubscribe",endpoint:t},{onDone:function(e){e?(n.saveEndpoint(!1),u()):r()}})}):Promise.reject("ERROR: can not unsubscribe")}):(n.saveEndpoint(!1),Promise.reject("ERROR: no subscription"))})})},t.requestPermission=function(){var t=e.getPermission();return t===e.PUSH_NOTIFIER_PERMISSION_DEFAULT?new Promise(function(e,t){var n=Notification.requestPermission(function(t){e(t)});n instanceof Promise&&n.then(e,t)}):Promise.resolve(t)},t.checkMessageState=function(){var t=this;return new Promise(function(e){return setTimeout(e,5e3)}).then(function(){return t.action("getMessagesMetaData")}).then(function(t){return"object"==typeof t&&Object.keys(t).length?new Promise(function(n,u){window.ajax.post(e.SERVER_URL,{act:"a_update_messages_state",data:Object.entries(t)},{onDone:function(e){e?n(e):u("ERROR: act error")},onFail:function(){return u("ERROR: network error"),!0}})}):Promise.resolve({})}).then(function(e){try{return JSON.parse(e)}catch(e){return{}}}).then(function(e){return t.action("updateMessageNotifications",e)}).catch(function(e){return Object(c.error)(e)})},e}();d.SERVER_KEY="BPrntRk2W1_ISFwlgY-vz9tQDg9i1oSQ3-N8xyjdbNAbIOdZIGFdh5FlO7zn730UwU9Sayoec-Fpqq4JZFTyv60",d.SERVER_URL="push_notifier",d.PUSH_NOTIFIER_PERMISSION_GRANTED="granted",d.PUSH_NOTIFIER_PERMISSION_DEFAULT="default",d.PUSH_NOTIFIER_PERMISSION_DENIED="denied",d.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS="BLOCKED_BY_BROWSER_SETTINGS",d.SUBSCRIBE_ERROR_NETWORK="SUBSCRIBE_ERROR_NETWORK";var f=d,l=n("PovR"),p=function(e){function t(t,n){var u;return u=e.call(this,t,n)||this,vk.id&&u.canBeEnabled().then(function(e){e&&(u.updateHeadClass(),u.handlerMessagesLP=u.handlerMessagesLP.bind(Object(a.default)(u)),page.onChange(function(){return u.updateHeadClass()}))}),u}Object(o.default)(t,e);var n=t.prototype;return n.canBeEnabled=function(){var t=this;return e.prototype.canBeEnabled.call(this).then(function(e){return e?t.isNativeAppInstalled().then(function(e){return!e}):Promise.resolve(!1)})},n.isSupported=function(){return e.prototype.isSupported.call(this)&&(browser.chrome||browser.mozilla)},n.updateHeadClass=function(){var e=f.getPermission();document.head&&(removeClass(document.head,"push_notifier_"+f.PUSH_NOTIFIER_PERMISSION_GRANTED),removeClass(document.head,"push_notifier_"+f.PUSH_NOTIFIER_PERMISSION_DENIED),removeClass(document.head,"push_notifier_"+f.PUSH_NOTIFIER_PERMISSION_DEFAULT),e&&addClass(document.head,"push_notifier_"+e),addClass(document.head,"push_notifier_supported"))},n.handlerMessagesLP=function(e,t){this.sw.action("removeMessageNotification",{peerId:t,msgId:e})},n.cleanNotification=function(){this.sw.action("cleanNotification")},n.removeLongPollListener=function(){this.lp&&this.lp.off(),this.lp=null},n.addLongPollListener=function(){window.isNewMail&&window.isNewLongpoll&&!this.lp&&(this.lp=window.im.onMsgReadByMe(this.handlerMessagesLP))},n.isNativeAppInstalled=function(){var e=Date.now(),n=A.default.get(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS_TS),u=A.default.get(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS);return new Promise(function(r){null!==u&&n&&e-n<t.PUSH_NOTIFIER_LS_TTL_RELATED_APPS?r(!!u):"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then(function(n){var u=Object.values(n).some(function(e){return"com.vkontakte.android"===e.id});A.default.set(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS_TS,e),A.default.set(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS,u),r(u)}).catch(function(){r(!1)}):r(!1)})},n.update=function(){var t=this;return e.prototype.update.call(this).then(function(){t.updateHeadClass(),t.addLongPollListener()})},n.unsubscribe=function(t){var n=this;return e.prototype.unsubscribe.call(this,t).then(function(){return n.removeLongPollListener()})},t}(f);p.PUSH_NOTIFIER_LS_KEY_RELATED_APPS="push_notifier_related_apps",p.PUSH_NOTIFIER_LS_KEY_RELATED_APPS_TS="push_notifier_related_apps_ts",p.PUSH_NOTIFIER_LS_TTL_RELATED_APPS=l.HOUR/2;var h=p;n.d(t,"init",function(){return E}),n.d(t,"isStandalone",function(){return m}),n.d(t,"isOfflineCapable",function(){return F});var v,g=new u;window.sw_client=g,window.SWClient=u,window.initPushNotifier=function(){try{window.PushNotifier=h,window.pushNotifier=new h(g,u)}catch(e){}};var _=!1;function E(){window.addEventListener&&(!function(){if(_=!0===navigator.standalone||window.matchMedia&&matchMedia("(display-mode: standalone)").matches,!history.replaceState)return;var e=location.search;if((e=(e=(e=e.replace(/(\?|&)mode\=([^&]+)(&)?/,"$1")).replace(/(\?|&)__appshell_fallback\=([^&]+)(&)?/,"$1")).replace(/(\?|&)+$/,""))!==location.search){var t=location.pathname+e+location.hash;history.replaceState(null,"",t)}}(),function(){if(!u.isSupported())return;g.listenMessages()}(),window.addEventListener("beforeinstallprompt",function(e){e.preventDefault()}),window.addEventListener("appinstalled",function(){statlogsValueEvent("pwa_installed_event",1)}),"complete"===document.readyState?C():window.addEventListener("load",function(){C()}))}function m(){return _}function F(){return void 0===v&&(v=!(!u.isSupported()||!navigator.serviceWorker.controller)),v}function C(){window.vk&&window.vk.sw&&(g.register(window.vk.sw).then(function(e){g.storePushHash()},function(e){if(e!==u.SW_NOT_AVAILABLE_ERROR)throw e}),u.isSupported()&&navigator.serviceWorker.getRegistration().then(function(e){!function(e){if(!F())return;e&&e.active&&e.installing&&e.installing.postMessage({action:"activate"})}(e)}),i())}E()},fdw3:function(e,t,n){"use strict";n.r(t),n.d(t,"isObject",function(){return s}),n.d(t,"isJS",function(){return D}),n.d(t,"log",function(){return c}),n.d(t,"mergeObjects",function(){return A}),n.d(t,"concatValues",function(){return d}),n.d(t,"isFinite",function(){return f}),n.d(t,"getLang",function(){return l}),n.d(t,"insertBetween",function(){return p}),n.d(t,"stringifyJSON",function(){return h}),n.d(t,"parseJSON",function(){return v}),n.d(t,"wrapCommunityMailUrl",function(){return g}),n.d(t,"mailReplaceMentions",function(){return _}),n.d(t,"mailReplaceDomainMentions",function(){return E}),n.d(t,"getState",function(){return m}),n.d(t,"wdToFlatArray",function(){return F});var u=n("9M99");n.d(t,"emojiToHTML",function(){return u.emojiToHTML});var r=n("qHA9");n.d(t,"isChatPeer",function(){return r.isChatPeer}),n.d(t,"isForwardedMessageId",function(){return r.isForwardedMessageId});var i=n("OcsD");n.d(t,"extend",function(){return i.extend});var a=n("j80l");n.d(t,"makeUrl",function(){return a.makeUrl});var o=n("TYsd");function s(e){return Object(i.isObject)(e)}function D(){return!0}function c(){var e;(e=console).log.apply(e,arguments)}function A(e,t){return Object.assign(e,t)}function d(e,t){return e+t}function f(e){return window.isFinite(e)}function l(e){return window.getLang(e)}function p(e,t){var n=[];return e.forEach(function(u,r){var i=e[r+1],a=e[r+2];u&&n.push(u),u&&(i||a)&&n.push(t)}),n}function h(e){return JSON.stringify(e)}function v(e){return JSON.parse(e)}function g(e){return Object(r.wrapCommunityUrl)(e)}function _(e,t){return e.replace(r.MENTION_REGEXP,t)}function E(e,t){return e.replace(r.MENTION_DOMAIN_REGEXP,t)}function m(e){return window.isomorphicState[e]||[]}function F(e){return o.default.toFlatArray(e).map(o.default.innerItemToString)}},izth:function(e,t,n){"use strict";function u(){var e=(document.domain||"").match(/(m\.)?([a-zA-Z]+\.[a-zA-Z]+\.?)$/);window.locDomain="https:"===location.protocol?e[2]:e[0];var t=navigator.userAgent.toLowerCase();!/opera/i.test(t)&&/msie 6/i.test(t)&&document.domain===window.locDomain||(document.domain=window.locDomain)}n.r(t),n.d(t,"setDocumentDomain",function(){return u})},j80l:function(e,t,n){"use strict";function u(e,t){var n=need("nav");if(!t)return e;var u=e.split("?"),r=u[0],i=u[1],a={},o=[];return i&&i.split("&").map(function(e){var n=e.split("="),u=n[0],r=n[1];u in t||(t[u]=r)}),Object.keys(t).forEach(function(e){var u,r=t[e];!0===r&&(r=n.getQuery(e)),("string"==typeof(u=r)&&u||function(e){return"number"==typeof e&&!isNaN(e)}(r))&&(a[e]=r)}),Object.keys(a).forEach(function(e){o.push(e+"="+encodeURIComponent(a[e]))}),0===o.length?r:r+"?"+o.join("&")}n.r(t),n.d(t,"makeUrl",function(){return u}),n.d(t,"parseURL",function(){return i}),t.default=window.Url={make:u};var r=["protocol","hostname","host","pathname","port","search","hash","href"];function i(e){var t=window.ce("a",{href:e}),n=r.reduce(function(e,n){return e[n]=t[n],e},{});return n.requestUri=""+n.pathname+n.search,n}},qHA9:function(e,t,n){"use strict";n.r(t),n.d(t,"MENTION_REGEXP",function(){return s}),n.d(t,"MENTION_DOMAIN_REGEXP",function(){return D}),n.d(t,"MENTION_CLIENTSIDE_REGEXP",function(){return c}),n.d(t,"UNKNOWN_ERROR",function(){return d}),n.d(t,"STICKER_HEIGHT",function(){return f}),n.d(t,"isContactPeer",function(){return l}),n.d(t,"isCommunityPeer",function(){return p}),n.d(t,"isChatPeer",function(){return h}),n.d(t,"isUser",function(){return v}),n.d(t,"formatTime",function(){return g}),n.d(t,"wrapMention",function(){return _}),n.d(t,"wrapCommunityUrl",function(){return E}),n.d(t,"sendDataToMessage",function(){return m}),n.d(t,"getMsgSendId",function(){return F}),n.d(t,"mailRequest",function(){return C}),n.d(t,"getStickerSize",function(){return b}),n.d(t,"prepareKeyboard",function(){return w}),n.d(t,"isForwardedMessageId",function(){return y});var u=n("wTgh");n.d(t,"wrapLinks",function(){return u.wrapLinks});var r,i=n("wMVj"),a=n("9M99"),o=n("OcsD"),s=/\[((id|club)\d+)\|([\S\s]+?)]/g,D=/\[((id|club)\d+)\|@([\S\s]+?)]/g,c=/\[(().+)\|([\S\s]+?)]/g,A=-180,d=10,f=128;function l(e){return e>19e8&&e<=2e9}function p(e){return e>-1e9&&e<0}function h(e){return e>2e9}function v(e){return e>0&&e<=19e8}function g(e,t){void 0===t&&(t=0);var n=new Date(1e3*e),u=n.getTimezoneOffset(),r=-t/60+A;if(u!==r){var i=60*(r-u)*1e3;n.setTime(1e3*e-i)}var a=n.getHours(),o=n.getMinutes();return a+":"+(o<10?"0":"")+o}function _(e,t){var n;return n=t?c:s,e.replace(n,function(e,t,n,u){return'<a href="/'+t+'" class="mem_link">'+u+"</a>"})}function E(e){var t=i.default.getQuery("community");return t&&(e+="&community="+t),e}function m(e,t){var n,i,o=store.mail,s=o.cur,D=o.members,c=Date.now()/1e3,A=g(c,s.timeShift),d=e.message||"";"send"!==e.act&&e.id&&(n=store.mail.msgs[e.id]),r||(r=document.createElement("div")),r.textContent=d,d=r.innerHTML,r.textContent="";var l,p={};if(e.media&&0===e.media.indexOf("sticker")){p.sticker=1;var h=+e.media.replace("sticker","");h&&(l={id:h,url:Stickers.getStickerUrl(h,b()),height:f})}else for(var v,E=1;v=e["attach"+E+"_type"];E++)p[v]?p[v]+=1:p[v]=1;i=e.attached_messages?(e.attached_messages+"").split(";"):e.mail_edit_attach_fwd&&n?n.forwards.concat():[];var m=!!e.has_reply,F="send"===e.act?"send"+e.random_id:"edit"+e.id,C=d,w=C=(C=C.replace(/\n/g,"<br>")).replace(/(@|\*)(\S+)(?: +\(([^\n]+?)\))?/g,function(e,t,n,u){u||(u=t+n);for(var r=0,i="id",a=Object.keys(D),o=0,s=a.length;o<s;o++){var c=a[o];if(D[c]&&D[c].domain===n){r=c;break}}return"-"===r[0]&&(r=r.slice(1),i="club"),"["+i+r+"|"+u+"]"});w=_(w=Object(u.wrapLinks)(w),!0),w=Object(a.emojiToHTML)(w);var y={id:"send"===e.act?F:e.id,sendId:F,peerId:"send"===e.act?e.to:e.peerId,authorId:s.viewerId,adminId:s.groupId?s.userId:void 0,ts:c,date:A,dateShort:A,text:w,textInput:d,body:C,isUnread:!n||n.isUnread,isOut:!0,edited:"send"!==e.act,canEdit:!1,attaches:p,forwards:m?[]:i,hasReply:m,reply:m?i[0]:void 0,pending:!t,failed:!!t,attachesLoading:!!Object.keys(p).length};return s.groupId&&(y.adminName=lang.mobile_mail_you,y.adminUrl=D[s.userId].url),l&&(y.sticker=l),y}function F(e){return e.edited?"edit"+e.id:"send"+e.randomId}function C(e,t){return new Promise(function(n,u){Object(o.ajaxRequest)(e,t,function(e){e.error?u({type:"server",code:e.code||0,message:e.message||""}):n(e.result)},function(e,t,n){var r=null,i="unknown",a=0;if(n instanceof XMLHttpRequest){var o=n;0===o.status?i="network":(i="server_status",a=o.status)}else 0===e&&null==t&&null==n?i="response_parsing":e===ajax.RESPONSE_CAPTCHA?(i="captcha",r=n):i="unknown";u({type:i,code:a,message:"",data:r})})})}function b(){return hasClass("x2",document.body)?2*f:f}function w(e){var t=e.keyboard,n=e.authorId,u=e.msgId;if(t.buttons&&t.buttons.length){t=Object.assign(t,{author_id:n,chat_local_id:u});var r=document.createElement("div");t.buttons.forEach(function(e){e.forEach(function(e){var t=e.action.label;r.textContent=t;var n=r.innerHTML;e.action.label=Object(a.emojiToHTML)(n),e.action.rawLabel=t})}),r=null}else t=null;return t}function y(e){return!isFinite(e)&&("string"!=typeof e||"~"!==e[0])}},wMVj:function(e,t,n){"use strict";n.r(t);var u=n("UxAg"),r=n("+cqQ"),i=n("jk6M"),a=(n("OcsD"),n("a0wW")),o=n("eGQV"),s=n("izth"),D=n("wkhI"),c=function(){var e=!(!window.history||!history.pushState),t=se(function(){return A});onDOMReady(function(){a.default.setFlag(a.FLAG_SUPPORTS_HISTORY_API,e)});var n={},A=null,d=[],f=!1,l=20,p=30;function h(){Tabbar.setHistory(n)}function v(e){var t=window.Tabbar;if(e.lm&&e.lm.tab&&e.lm.is_tab_page||e.options&&e.options.forceSetCurrent){var n=t.getCurrentId(),u=e.lm&&e.lm.tab||e.options.tab;t.setCurrentId(u),n!==u&&h()}else e.lm&&!e.lm.tab&&(e.lm.tab=t.getCurrentId())}function g(e){return!!n[e]&&n[e]}function _(){return g(Tabbar.getCurrentId())}function E(e,t){var n=(e||[]).filter(function(e){return e.d===t||e.h===t});return!(!n||!n[0])&&n[0]}function m(){var e=(_()||[]).filter(function(e){return!0===e.current});return!(!e||!e[0])&&e[0]}function F(e,t,u){var r;t.options&&t.options.is_fast&&t.options.prev_tab?r=g(t.options.prev_tab):(v(t),r=_(),t.lm&&t.lm.is_tab_page&&(r=!1));var i=function(){var e=m();return e&&e.d&&e.d.options&&e.d.options.replaceState}()||function(e){return e&&e.options&&e.options.replacePrevPage}(t),a=!1;if(r){for(var o=-1,s=r.length-1;s>=0;s--)if(r[s].h===e||r[s].a===e){o=s;break}o>-1&&r.splice(o+1,r.length);for(var D=r.length-1;D>=0;D--){var c=r[D];c.h===e||c.a===e?(r[D]={h:e,d:t,a:u,current:!0},a=!0):r[D].current=!1}}if(!a){var A={h:e,d:t,a:u,current:!0};if(r){var d=r[r.length-1],f=d&&d.d&&d.d.options&&d.d.options.removeAfterNextResponse;(i||f)&&r.pop(),r.push(A),r.length>l&&r.shift()}else{var p=Tabbar.getCurrentId(),h=m();if(h&&h.d&&h.d.options&&h.d.options.need_check_updates&&A.d.lm.check_updates){var E=A.d.html,F=h.d.page;A.d.page=F,A.d.newHTML=E}n[p]=[A]}}if(isArray(r)){for(var C=-1,b=r.length-1;b>=0;b--)if(!0===r[b].current){C=b;break}if(C>0){var w=C-1;r[w].h.includes("/like?act=publish")&&function(e,t){e.splice(t,1)}(r,w)}}}function C(e){var t;if(t=/^(https?:)\/\/([^:\/]+)?(?::(\d+))?\/?(.*)$/i.exec(e)){if(t[1]!=location.protocol)return!1;if(t[2]&&t[2]!=location.hostname)return!1;if(t[3]&&t[3]!=location.port)return!1;e=(t[4]||"").replace(/^\/+/,"/")}return e}function b(e,t,n){if(checkEvent(t))return!0;if(n&&n.push_only)return!0;if(n&&n.replace)location.replace(e);else if(e){var u=getHref(e);u===location.href.replace(location.origin,"")?location.reload():location.href=u}return!0}function w(e,t,n){var u=window.al;cancelEvent(t);var r=getHref(e);if(window.al&&u.ver){if(n&&n.push_only)return!0;if(ajax.nav(r,n))return document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!0}b(r,t,n)}function y(t,n,u){var r,i,a=window.Tabbar;if(t&&t.href){if(/vk\.com\/vkui\/([a-zA-Z_]+)/.test(t.href))return b(t.href,n,u),!1;if(i=t.href,t.getAttribute&&t.getAttribute("data-change-location-with-post-away")){var o={};return(r=R(t)).post_id&&(o.post=r.post_id,r.ad_data&&(o.post_ad_data=r.ad_data),r.post_click_cc_key&&(o.cc_key=r.post_click_cc_key),i="/away.php?to="+encodeURIComponent(i)+"&"+obj2qs(o).substr(1)),b(i,n,u),!1}}if(t&&t.href&&t.dataset&&t.dataset.setFrom&&(t.href=Url.make(t.href,{from:c.cur})),c.onBeforeGo(t,n,u))return!1;if(u=extend({no_push:!1,push_only:!1,replace:!1},u),checkEvent(n))return!stopEvent(n);if(!t)return!0;e&&(u.no_push||u.need_restore)&&(f=!1);var A=t,d="",l="",p="";function h(e){return"a"===tag(e)?e:gpeByTag("a",e)}!t.href&&t.getAttribute&&(A=t.getAttribute("data-href"));var g=n&&h(n.target)||t&&t.tagName&&h(t);if(("input"==tag(t)||"button"==tag(t))&&("submit"==t.type||"image"==t.type)&&t.form){if(t.disabled)return!0;var _=t.form,E={},m=_.action||"",F=!1;if(each(_,function(e,n){return!(n.name&&!n.disabled&&!Object(D.isFieldIgnored)(n))||("radio"===n.type&&!n.checked||("button"===n.type||("submit"===n.type&&n!==t||("image"===n.type&&n!==t||("file"===n.type?(F=!0,!1):"checkbox"===n.type?(E[n.name]=n.checked?1:0,!0):void(E[n.name]=n.value))))))}),"image"==t.type&&(E[t.name]=t.value,E[t.name+".x"]=1,E[t.name+".y"]=1),F||"multipart/form-data"==attr(_,"enctype"))return function(e){var t=ce("iframe");attr(t,"id","upload_iframe"),attr(t,"name","upload_iframe"),attr(t,"width","0"),attr(t,"height","0"),attr(t,"border","0"),attr(t,"style","width:0;height:0;border:none;position:absolute;left:-1000px;"),append(t,e.parentNode),window.frames.upload_iframe.name="upload_iframe",t=ge("upload_iframe");var n=!1;return each(e,function(e,t){if("submit"===t.type)return n=t,!1}),addEvent(t,"load",function e(){removeEvent(t,"load",e),setTimeout(function(){remove(t),unlockButton(n)},2e3)}),Object(s.setDocumentDomain)(),attr(e,"target","upload_iframe"),attr(e,"method","post"),attr(e,"enctype","multipart/form-data"),attr(e,"encoding","multipart/form-data"),append(ce("input",{type:"hidden",id:"__extra",name:"__extra",value:1}),e),e.submit(),setTimeout(function(){lockButton(n),remove("__extra")}),!1}(_);if(!(A=C(m)))return!0;_.method&&"get"!=_.method?u.params=E:A=A.split("?",1).shift()+obj2qs(E)}if(hasClass("al_need_login",t)&&(u.redirectToLoginPage=!0),"string"!=typeof A){if(!A)return!0;"/"!==(d=(A.pathname||"").replace(/^\/+/,"/")).substr(0,1)&&(d="/"+d),l=A.search.substr(1),p=A.hash,A=d+A.search+p;if(/^(?:%40|@)-?[.a-z0-9_]+-[a-z0-9-]+(?:[\?&]\w+\=[a-z0-9-_]+)*$/.test(d.substr(1))&&window.cur&&window.cur.module){var y=window.cur.module;if("feed"===y)"search"===qs2obj(c.params).section&&(y="feed_search");l+="&ref="+y}}else{var I=A.split("#"),k=I.shift();p=I.length?"#"+I.join("#"):"",d=(k=k.split("?")).shift(),l=k.join("?"),!p&&!l||d||(d=c.path,k||(l=c.params),A=d+(l?"?"+l:"")+p)}var O=qs2obj(l);function P(e,t,n){var u=n&&O[t];return!(!e||u)&&(O[t]=e,!0)}if(P((r=R(g,!!O._post_click_type)).post_id,"_post",!0),P(r.post_click_type,"_post_click_type",!0),O._post_click_type&&(P(r.post_click_mention_id,"_post_click_mention_id",!0),P(r.post_click_cc_key,"_post_click_cc_key",!0),P(r.post_click_url,"_post_click_url",!0),P(r.ad_data,"_post_ad_data",!0)&&P(r.ad_block_unique_id,"_post_ad_block_unique_id")),0!==location.pathname.indexOf("/app")&&0===d.indexOf("/app")&&O&&O.act&&"app_r"===O.act)return!!n||(b(t,n,u),!1);if(l=obj2qs(O).substr(1),n&&A&&c.cur&&A.split("#").shift()==c.cur.split("#").shift()&&p&&!u.force&&(scrollToHash(p),u.push_only=!0),u.no_push&&c.cur==A&&!u.force)return!1;if(u.push_only)return B(extend(u,{nav:{push:A,path:d,params:l,hash:p}})),!1;if(addClass("active",u.link||t),hasClass("al_back_history",t))return addClass("al_back",u.link||t),removeClass("al_back_history",u.link||t),c.backToTabHistory(u.link||t);if((m||u.isForm)&&(u.removeAfterNextResponse=null==u.removeAfterNextResponse||u.removeAfterNextResponse),(hasClass("al_tab",t)||hasClass("SliderTabs__tab",t))&&(u.replaceState=!0),hasClass("al_back",t)){var T=O.act;window.isNewMail&&"/mail"===location.pathname&&!T||"show"===T&&!geByClass1("messenger")?u.need_restore=!1:u.need_restore=!0}var N=attr(t,"data-tabbar");if(N){var j=a.getCurrentId();j!==N?(N!==a.TAB_ID_MESSAGES&&0===a.getTabCounter(N)&&(u.need_restore=!0),N===a.TAB_ID_FEED&&"/feed"===A&&(u.need_check_updates=!0),u.tab=N,u.prev_tab=j,u.forceSetCurrent=!0):(u.tab=N,u.prev_tab=N,u.replace=!0),v({lm:{tab:N,is_tab_page:!0}})}else if(u.tab)u.native_prev=a.getCurrentId(),u.is_native_back=!0,u.forceSetCurrent=!0,v({lm:{tab:u.tab,is_tab_page:!0}});else{var M=a.getCurrentId();u.tab=M;var L=!(!this||!isString(this.cur))&&this.cur.substr(1);a.TAB_IDS.includes(L)?u.prev_tab=L:u.prev_tab=M}var U=function(e){var t=window.cur,n=window.menu,u=qs2obj(e.nav.params),r=qs2obj(c.params);if((r.z||u.z)&&r.z!=u.z){if(c.path==e.nav.path){var i=copy(u),a=copy(r);if(delete i.z,delete a.z,i=obj2qs(i),a=obj2qs(a),i==a)return S(u.z,!1,e),B(e),n.close(null,!0),!1}e.zProcess=function(t,n){S(u.z,t,extend({},e,{no_push:!0}),n)}}if(e.onPreNav=function(){e.zProcess&&(e.zProcess(),delete e.zProcess)},!e.ignore_cur_process&&t.processNav&&t.processNav(e))return B(e),n.close(null,!0),!1;return w(e.nav.push,null,e),!1}(extend(u,t.tagName?{target:t}:{},{nav:{push:A,path:d,params:l,hash:p}}));return U||cancelEvent(n),U}function S(e,t,n,u){var r,i=window.photo,a=window.zlayer;if(e){if(r=/^photo(-?\d+_\d+)(?:\/([a-z0-9_-]+(\/rev)?)?)?$/i.exec(e)){if(!0===u)return!1;var o=r[1]||"",s=r[2]||"";return i.zopen(!1,null,o,s,{no_push:(n||{}).no_push}),a&&!1!==t&&void 0!==t&&(a._st=t),QRPhotoPosting&&QRPhotoPosting.close(),!0}if(r=/^story(-?\d+_\d+)(\/?([a-z0-9_-]+))(\/?[a-z0-9_:]+)?$/i.exec(e)){var D=window.Stories;if(!0===u)return!1;if(!D.opened){var c=r[1]+(r[2]?r[2]:"/"+r[1])+(r[4]?r[4]:"");D.init(c)}return!0}if(r=/^\/?narrative(-?\d+)_(\d+)(\/?([a-z0-9_-]+))?$/i.exec(e)){var A=window.Stories;return!0!==u&&(A.init(r[1]+"/narrative"+r[1]+"_"+r[2],{source:"narrative_link"}),!0)}if(r=/^\/?doc(-?\d+)_(\d+)(\/?([a-z0-9_-]+))?$/i.exec(e))return!0!==u&&(i.zopen(null,null,r[1]+"_"+r[2],"",{no_push:(n||{}).no_push,isDoc:!0,hasVideo:!1,hash:r[4]}),a&&!1!==t&&void 0!==t&&(a._st=t),!0);if(r=/^\/?publish_photo(-?\d+)?$/i.exec(e)){if(!0===u)return!1;QRPhotoPosting&&QRPhotoPosting.show()}}return!1!==u&&(a&&a.close(),Stories&&Stories.opened&&Stories.close({isPopState:!0,closeAll:!0}),QRPhotoPosting&&QRPhotoPosting.close(),!0)}function I(t,n,u){if(void 0===u&&(u=null),e)!function(e,t,n){var u=window.Tabbar.getCurrentId(),r={nav:{tab:t.tab||u,prev_tab:t.prev_tab}};window.isNewMail?t.replace?history.replaceState(extend({},n,r),null,e):history.pushState(extend({},n,r),null,e):t.replace?history.replaceState(r,null,e):history.pushState(r,null,e)}(t,n,u);else{var r="/"==t.substr(0,1)?t:"/"+t,i="#"+r,a=location.pathname+location.search+i;ge("base").href=r,n.replace?location.replace(a):(A=i,location.href=a)}}function B(t){if(!t.no_push&&c.cur!=t.nav.push){if(Object(o.isOfflineCapable)()&&!1===navigator.onLine&&!t.push_only)return b(t.nav.push,null,t);try{window.isNewMail?I(t.nav.push,t,t.historyState):I(t.nav.push,t),e&&!t.no_push&&(t.nav_init||t.nav_incr)?(t.nav_init&&(f=0),t.nav_incr&&!1!==f&&f++,f>p&&(f=!1)):f=!1}catch(e){return b(t.nav.push,null,t)}}c.cur!==t.nav.push&&(c.prev_cur=c.cur,c.prev_fv_link=c.fv_link),c.cur=t.nav.push,c.path=t.nav.path,c.params=t.nav.params,c.hash=t.nav.hash,c.path&&0!==c.path.indexOf("/")&&(c.path="/"+c.path)}if(e)addEvent(window,"popstate",function(e){if(window.isNewMail&&c.onPopState())return preventEvent(e),void stopEvent(e);var t=extend({no_push:!0,need_restore:!0});if(e.state&&e.state.nav){var n=e.state.nav,r=n.tab,i=n.prev_tab;t=extend(t,{tab:r,prev_tab:i})}cur.share&&cur.share.destroy&&cur.share.destroy();var a=Object(u.$)(".Popup_open");location.href.includes("#pop_")||Popup.close(a),y(location,null,t)});else{var k=location.hash||"";"#/"==k.substr(0,2)&&b(k.substr(1),null,{replace:!0});var O=function(e){(e=(e||"").substr(1))&&"/"==e.substr(0,1)||(e=location),y(e,null,{no_push:!0,need_restore:!0})};"onhashchange"in window?addEvent(window,"hashchange",function(){O(location.hash||"")}):(!function e(){var n=location.hash||"";A!==n&&(A=n,t(!0)),setTimeout(e,100)}(),t(function(e){O(e)}))}function R(e,t){var n=!(!e||!e.getAttribute),u={};if(!n)return u;var r=e.getAttribute("data-post-id");r&&(u.post_id=r);var i=e.getAttribute("data-post-click-type");i&&(u.post_click_type=i);var a=e.getAttribute("mention_id");a&&(u.post_click_mention_id=a);var o=e.getAttribute("data-post-click-cc-key");o&&(u.post_click_cc_key=o);var s=[e.getAttribute("href"),e.getAttribute("data-href")];if(each(s,function(e,t){if(t&&"#"!==t)return u.post_click_url=t,!1}),!!i||t){var D=gpeByClass("_ads_block_data_w",e),c=(D=D||gpeByClass("_ads_promoted_post_data_w",e))&&D.getAttribute("data-ad"),A=D&&D.getAttribute("data-ad-block-uid");c&&(u.ad_data=c),A&&(u.ad_block_unique_id=A)}return u}var P=(location.pathname||"").replace(/^\/+/,"/"),T=location.search||"",N=location.hash||"";return{onBeforeGo:Object(r.default)(),onBeforeGo2:Object(r.default)("path","queryObject","fullUrl","opts"),onPopState:Object(r.default)(),go:y,al_go:w,app_go:function(e,t,n){if(!n)return!0;if(checkEvent(t))return!0;remove("app_go_frame");var u=getHref(e),r=ce("iframe",{id:"app_go_frame",src:n,onload:function(){remove("app_go_frame"),u&&c.hard_go(u)}},{display:"none"});return window.bodyNode.appendChild(r),!1},hard_go:b,go_after:function(e,t){var n=window.al;return!window.al||!n.ver||(!!checkNav(t.target,{skip_onclick:!0,skip_clicable:!0})||!1!==e&&(c.go(e,t)||cancelEvent(t),!1))},page_set:function(e,t,n){F(e,t,n)},page_get:function(e,t){return void 0===t&&(t=Tabbar.getCurrentId()),function(e,t){for(var n=g(t),u=n.length-1;u>=0;--u){var r=n[u];if(r.h===e||r.a===e)return r.d}return!1}(e,t)},saveScrollPosition:function(){var e=m();e&&e.d&&(e.d.st=scrollTop())},set:B,checkUrl:C,tryHistoryBack:function(){var e=f;return e&&history.go(-e),f=!1,!!e},zInit:function(){var e=qs2obj(c.params);e.z&&S(e.z)},getPostParams:R,cur:P+T+N,path:P,params:T.substr(1),hash:N,clear:function(){n={},c.initStore(),d=[],Tabbar.setHistory(n)},hasUpdate:function(e,t,n){if(!e||!e.need_check_updates)return!1;var u=t,r=E(g(e.tab),u);if(!r||!n.html)return!1;var i=r.d.lm.check_updates,a=n.lm.check_updates;return!(!i&&!a)&&(a!==i&&{currentCache:r})},needUpdate:function(e,t,n){if(!e||!e.need_check_updates)return!0;var u=t,r=E(g(e.tab),u);if(!r||!n.html)return!0;var i=r.d.lm.check_updates,a=n.lm.check_updates;return!i&&!a||a!==i},updateCurrentPage:function(){var e=m();page.set(e.h,e.d,{forceUpdate:!0})},isTabHaveCache:function(e,t){var n=g(e);return!!n&&!!E(n,t)},getQuery:function(e){var t=qs2obj(c.params);return e?t[e]||null:t},getNotifierScrollTop:function(){var e=d.find(function(e){return"/settings?act=notifier"===e.h});return e?e.d.st:null},reload:function(){return c.go(c.cur)},tryBack:function(){var e=d.slice(-2)[0];return!!e&&(c.go(e.h,null,{need_restore:!0}),!0)},backToTabHistory:function(e){var t=_(),u=t.findIndex(function(e){return!0===e.current}),r=e&&hasClass("al_back",e),i=attr(e,"href"),a=t[u-1];if(a)return t.splice(u,t.length),c.go(a.h,null,{need_restore:r});if(i)return c.go(i);var o=Tabbar.getCurrentId(),s=Tabbar.getDefaultURL(o);return n[o]=[],c.go(s)},openInNativeApp:function(e,t,n,u){var r=this;if(void 0===u&&(u=!1),this._openAppInProgress)return!1;cancelEvent(t);var a={android:"https://vk.cc/android",iphone:"https://vk.cc/iphone"},o=u?n.href:"vk://vk.com"+(ge("vk_wrap").offsetWidth<882&&c.prev_cur?c.prev_cur:c.cur),s=i.default.mi?1500:300;i.default.safari&&(s=10===i.default.ios?1100:i.default.ios>10&&i.default.ios<12?0:i.default.ios>=12&&i.default.ios<13?2800:i.default.ios>=13?1800:300);var D=Date.now(),A=setTimeout(function(){r._openAppInProgress=!1,Date.now()-D>s+200||!document.hasFocus()||(n&&n.href?c.hard_go(n.href):c.hard_go(a[e]))},s);if(addEvent(window,"blur",function e(){clearTimeout(A),r._openAppInProgress=!1,removeEvent(window,"blur",e)}),i.default.ios){addEvent(window,"focus",function e(){window.menu&&window.menu.close(),removeEvent(window,"focus",e)})}else window.menu&&window.menu.close();return this._openAppInProgress=!0,c.hard_go(o),statlogsValueEvent("mvk_open_in_native_link",1,e),!1},initOpenInNativeAppBtn:function(){if(!isVkWebView()){var e=geByClass1("mmi_open_in_app");e&&addClass("supported",e)}},initStore:function(){window.store.tabs=n},getPageJs:function(){var e=Object(u.$)("#page_script");return e?e.innerText:d.length&&d[d.length-1].d.js||""},onMenuItemClick:function(e){var t=getW("vk_wrap")>=882?"full_version":"mobile";if(statlogsValueEvent("mvk_navigation_pages","click","tabbar",e,t),"/wall"===c.cur.substr(0,5)&&"add"===c.getQuery("act")){var n=Object(u.$)("#feed_add_form"),r=qs2obj(n.action.split("?")[1]),i=n.getAttribute("data-hash")||r.hash;i&&post.saveDraft(null,i)}},setFvLink:function(e){c.fv_link=e}}}();onDOMReady(function(){c.initOpenInNativeAppBtn(),c.initStore()}),window.nav=c,t.default=c},wTgh:function(e,t,n){"use strict";function u(e,t){void 0===t&&(t=0);var n=32768&t;return e=(e=e.replace(/([a-zA-Z\-_\.0-9]+@[a-zA-Z\-_0-9]+\.[a-zA-Z\-_\.0-9]+[a-zA-Z\-_0-9]+)/g,function(e){return'<a href="mailto:'+e+'">'+e+"</a>"})).replace(/(https?:\/\/)?(([A-Za-zА-Яа-яЁё0-9@][A-Za-zА-Яа-яЁё0-9@\-\_\.]*[A-Za-zА-Яа-яЁё0-9@])(\/([A-Za-zА-Яа-я0-9@\-\_#%&?+\/\.=;:~]*[^\.\,;\(\)\?<\&\s:])?)?)/gi,function(){var e=arguments[3],t=arguments[2],u=arguments[0],r=arguments[1]||"http://";if(-1==e.indexOf(".")||-1!=e.indexOf(".."))return u;var i=e.split(".").pop();if(i.length>7||-1==indexOf("place,camera,info,name,academy,aero,arpa,coop,media,museum,mobi,travel,xxx,asia,biz,com,net,org,gov,mil,edu,int,tel,ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,bd,be,bf,bg,bh,bi,bj,bm,bn,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,ck,cl,cm,cn,co,cr,cu,cv,cx,cy,cz,de,dj,dk,dm,do,dz,ec,ee,eg,eh,er,es,et,eu,fi,fj,fk,fm,fo,fr,ga,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gu,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,il,im,in,io,iq,ir,is,it,je,jm,jo,jp,ke,kg,kh,ki,km,kn,kp,kr,kw,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mm,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,mz,na,nc,ne,nf,ng,ni,nl,no,np,nr,nu,nz,om,pa,pe,pf,pg,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,ru,rs,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,um,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,ye,yt,yu,za,zm,zw,рф,укр,сайт,онлайн,срб,cat,pro,local".split(","),i))return u;if(-1!=u.indexOf("@"))return u;try{u=decodeURIComponent(u)}catch(e){}return u.length>55&&(u=u.substr(0,53)+".."),u=htsc(u),!n&&e.match(/^([a-zA-Z0-9\.\_\-]+\.)?(vkontakte\.ru|vk\.com|vkadre\.ru|vshtate\.ru|userapi\.com|vk\.me)$/)?'<a href="'+(r+(t=replaceEntities(t).replace(/([^a-zA-Z0-9#%;_\-.\/?&=\[\]])/g,encodeURIComponent))).replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'">'+u+"</a>":'<a href="/away?to='+encodeURIComponent(r+replaceEntities(t))+'" target="_blank">'+u+"</a>"})}n.r(t),n.d(t,"wrapLinks",function(){return u})},wkhI:function(e,t,n){"use strict";n.r(t),n.d(t,"setFieldIgnored",function(){return r}),n.d(t,"isFieldIgnored",function(){return i});var u=n("OcsD"),r=function(e,t){void 0===t&&(t=!0),Object(u.attr)(e,"data-ignore-field",!!t&&"true")},i=function(e){return"true"===Object(u.attr)(e,"data-ignore-field")}}}]);